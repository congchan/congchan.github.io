<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.1.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="yandex-verification" content="0da69d506cf33dfe">
  <meta name="baidu-site-verification" content="Elnplp8Jq5">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"congchan.github.io","root":"/","images":"/images","scheme":"Gemini","version":"8.2.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":true,"comments":{"style":"tabs","active":"disqus","storage":true,"lazyload":false,"nav":null,"activeClass":"disqus"},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>
<meta name="description" content="爱丁堡大学信息学院课程笔记 Software Architecture, Process, and Management, Informatics, University of Edinburgh Reference:microsoftIBMSoftware Architecture in Practice (3rd edition), Bass, Clements, and Kazman">
<meta property="og:type" content="article">
<meta property="og:title" content="Software Architecture, Process, and Management">
<meta property="og:url" content="https://congchan.github.io/UoE-sapm/index.html">
<meta property="og:site_name" content="Fly Me to the Moon">
<meta property="og:description" content="爱丁堡大学信息学院课程笔记 Software Architecture, Process, and Management, Informatics, University of Edinburgh Reference:microsoftIBMSoftware Architecture in Practice (3rd edition), Bass, Clements, and Kazman">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://congchan.github.io/images/Architecture_Influence_Cycle.png">
<meta property="og:image" content="https://congchan.github.io/images/quality_attribute_scenario.png">
<meta property="og:image" content="https://congchan.github.io/images/general_scenario_for_availability.png">
<meta property="og:image" content="https://congchan.github.io/images/Availability_tactics.png">
<meta property="og:image" content="https://congchan.github.io/images/Performance_General_Scenario.png">
<meta property="og:image" content="https://congchan.github.io/images/Performance_tactics.png">
<meta property="og:image" content="https://congchan.github.io/images/Security_General_Scenario.png">
<meta property="og:image" content="https://congchan.github.io/images/Security_tactics.png">
<meta property="og:image" content="https://congchan.github.io/images/layer_pattern_relations.png">
<meta property="og:image" content="https://congchan.github.io/images/Model_View_Controller_Pattern_Solution.png">
<meta property="og:image" content="https://congchan.github.io/images/model_view_controller_pattern.png">
<meta property="og:image" content="https://congchan.github.io/images/Map_Reduce_Pattern_Solution.png">
<meta property="og:image" content="https://congchan.github.io/images/Architecture_Patterns_and_Corresponding_Tactics.png">
<meta property="og:image" content="https://congchan.github.io/images/Testability_General_Scenario.png">
<meta property="og:image" content="https://congchan.github.io/images/Modifiability_General_Scenario.png">
<meta property="og:image" content="https://congchan.github.io/images/Modifiability_tactics.png">
<meta property="og:image" content="https://congchan.github.io/images/Summary_of_the_Analytic_Model_Space.png">
<meta property="og:image" content="https://congchan.github.io/images/queuing_model_of_performance.png">
<meta property="og:image" content="https://congchan.github.io/images/Queueing_Model_of_MVC.png">
<meta property="og:image" content="https://congchan.github.io/images/Redundancy_tactics_to_a_broker_pattern.png">
<meta property="og:image" content="https://congchan.github.io/images/Analysis_at_Different_Stages_of_the_Life_Cycle.png">
<meta property="og:image" content="https://congchan.github.io/images/v_model_in_lifecycle.png">
<meta property="og:image" content="https://congchan.github.io/images/agile_vs_plan_application.png">
<meta property="og:image" content="https://congchan.github.io/images/agile_vs_plan_management.png">
<meta property="og:image" content="https://congchan.github.io/images/agile_vs_plan_tech.png">
<meta property="og:image" content="https://congchan.github.io/images/agile_vs_plan_personnel.png">
<meta property="og:image" content="https://congchan.github.io/images/Analysis_Techniques.png">
<meta property="og:image" content="https://congchan.github.io/images/Analysis_Techniques_and_Stage.png">
<meta property="og:image" content="https://congchan.github.io/images/Product_Line_Economics.png">
<meta property="og:image" content="https://congchan.github.io/images/product_line_Roll_out.png">
<meta property="og:image" content="https://martinfowler.com/articles/microservices/images/sketch.png">
<meta property="og:image" content="https://congchan.github.io/images/ATAM_Phases_and_Their_Characteristics.png">
<meta property="og:image" content="https://congchan.github.io/images/Steps_of_Evaluation_Phase.png">
<meta property="og:image" content="https://congchan.github.io/images/GPES_customers.png">
<meta property="og:image" content="https://congchan.github.io/images/GPES_structure.png">
<meta property="og:image" content="https://congchan.github.io/images/GPES_extract_develop_process.png">
<meta property="article:published_time" content="2017-09-30T16:00:00.000Z">
<meta property="article:modified_time" content="2017-09-30T16:00:00.000Z">
<meta property="article:author" content="Cong">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://congchan.github.io/images/Architecture_Influence_Cycle.png">


<link rel="canonical" href="https://congchan.github.io/UoE-sapm/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>
<title>Software Architecture, Process, and Management | Fly Me to the Moon</title>
  




  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Fly Me to the Moon</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#What-is-Software-Architecture"><span class="nav-number">1.</span> <span class="nav-text">What is Software Architecture?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Contexts-for-Software-Architecture"><span class="nav-number">2.</span> <span class="nav-text">Contexts for Software Architecture</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Quality-Attributes-QA"><span class="nav-number">3.</span> <span class="nav-text">Quality Attributes (QA)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Quality-Attributes-Scenarios-%E5%9C%BA%E6%99%AF"><span class="nav-number">3.1.</span> <span class="nav-text">Quality Attributes Scenarios 场景</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Achieving-QA-through-tactics"><span class="nav-number">3.2.</span> <span class="nav-text">Achieving QA through tactics</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Availability"><span class="nav-number">4.</span> <span class="nav-text">Availability</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Design-Checklist-for-Availability"><span class="nav-number">4.1.</span> <span class="nav-text">Design Checklist for Availability</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Performance"><span class="nav-number">5.</span> <span class="nav-text">Performance</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Design-Checklist-for-Performance"><span class="nav-number">5.1.</span> <span class="nav-text">Design Checklist for Performance</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Security"><span class="nav-number">6.</span> <span class="nav-text">Security</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#A-Design-Checklist-for-Security"><span class="nav-number">6.1.</span> <span class="nav-text">A Design Checklist for Security</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Connectors"><span class="nav-number">7.</span> <span class="nav-text">Connectors</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Select-Connectors"><span class="nav-number">7.1.</span> <span class="nav-text">Select Connectors</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Architectural-Patterns"><span class="nav-number">8.</span> <span class="nav-text">Architectural Patterns</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Module-Patterns"><span class="nav-number">8.1.</span> <span class="nav-text">Module Patterns</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Component-and-Connector-Patterns"><span class="nav-number">8.2.</span> <span class="nav-text">Component-and-Connector Patterns</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Deployment-Allocation-Patterns"><span class="nav-number">8.3.</span> <span class="nav-text">Deployment&#x2F;Allocation Patterns</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Allocation-Map-Reduce-Pattern"><span class="nav-number">8.3.1.</span> <span class="nav-text">Allocation: Map-Reduce Pattern</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Relationships-between-Tactics-and-Patterns"><span class="nav-number">8.4.</span> <span class="nav-text">Relationships between Tactics and Patterns</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Testability"><span class="nav-number">9.</span> <span class="nav-text">Testability</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#A-Design-Checklist-for-Testability"><span class="nav-number">9.1.</span> <span class="nav-text">A Design Checklist for Testability</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Modifiability"><span class="nav-number">10.</span> <span class="nav-text">Modifiability</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#GPES-Example"><span class="nav-number">10.1.</span> <span class="nav-text">GPES Example</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Design-checklist-for-Modifiability"><span class="nav-number">10.2.</span> <span class="nav-text">Design checklist for Modifiability</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Architectural-Modelling"><span class="nav-number">11.</span> <span class="nav-text">Architectural Modelling</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Analyzing-Performance"><span class="nav-number">11.1.</span> <span class="nav-text">Analyzing Performance</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Analyzing-Availability"><span class="nav-number">11.2.</span> <span class="nav-text">Analyzing Availability</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Analysis-at-Different-Stages-of-the-Life-Cycle"><span class="nav-number">11.3.</span> <span class="nav-text">Analysis at Different Stages of the Life Cycle</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Architecture-in-the-Life-Cycles"><span class="nav-number">12.</span> <span class="nav-text">Architecture in the Life Cycles</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Agile-vs-Plan-Driven"><span class="nav-number">12.1.</span> <span class="nav-text">Agile vs. Plan Driven</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Analysis-Techniques"><span class="nav-number">12.2.</span> <span class="nav-text">Analysis Techniques</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Product-Line-Architecture"><span class="nav-number">13.</span> <span class="nav-text">Product Line Architecture</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Example-Bosch-Gasoline-Systems"><span class="nav-number">13.1.</span> <span class="nav-text">Example: Bosch Gasoline Systems</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DevOps"><span class="nav-number">14.</span> <span class="nav-text">DevOps</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Microservices"><span class="nav-number">14.1.</span> <span class="nav-text">Microservices</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Architecture-Evaluation"><span class="nav-number">15.</span> <span class="nav-text">Architecture Evaluation</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Architecture-Tradeoff-Analysis-Method-ATAM"><span class="nav-number">15.1.</span> <span class="nav-text">The Architecture Tradeoff Analysis Method (ATAM)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ATAM-evaluation-team-roles-and-responsibilities"><span class="nav-number">15.1.1.</span> <span class="nav-text">ATAM evaluation team roles and responsibilities</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ATAM-Outputs"><span class="nav-number">15.1.2.</span> <span class="nav-text">ATAM Outputs</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Steps-of-Evaluation-Phase"><span class="nav-number">15.1.3.</span> <span class="nav-text">Steps of Evaluation Phase</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#General-Practice-Extraction-Service-GPES"><span class="nav-number">16.</span> <span class="nav-text">General Practice Extraction Service (GPES)</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Cong</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">93</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">39</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/congchan" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;congchan" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/Ginntonic" title="你乎 → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;Ginntonic" rel="noopener" target="_blank"><i class="fab fa-zhihu fa-fw"></i>你乎</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/congchan" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://congchan.github.io/UoE-sapm/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Cong">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Fly Me to the Moon">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Software Architecture, Process, and Management
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2017-10-01 00:00:00" itemprop="dateCreated datePublished" datetime="2017-10-01T00:00:00+08:00">2017-10-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/CS/" itemprop="url" rel="index"><span itemprop="name">CS</span></a>
        </span>
    </span>

  
    <span id="/UoE-sapm/" class="post-meta-item leancloud_visitors" data-flag-title="Software Architecture, Process, and Management" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/UoE-sapm/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="UoE-sapm/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>爱丁堡大学信息学院课程笔记 Software Architecture, Process, and Management, Informatics, University of Edinburgh</p>
<p>Reference:<br><a target="_blank" rel="noopener" href="https://msdn.microsoft.com/en-us/library/ff650706.aspx">microsoft</a><br><a target="_blank" rel="noopener" href="https://www.ibm.com/developerworks/rational/library/feb06/eeles/">IBM</a><br>Software Architecture in Practice (3rd edition), Bass, Clements, and Kazman</p>
<a id="more"></a>
<h2 id="What-is-Software-Architecture"><a href="#What-is-Software-Architecture" class="headerlink" title="What is Software Architecture?"></a>What is Software Architecture?</h2><p>Software architecture is often described as the organization or structure of a system, where the system represents a collection of components that accomplish a specific function or set of functions.</p>
<ul>
<li>grouping components into areas of <strong>concern (layers)</strong>: For example, the UI, business processing, and data access.</li>
<li>focus on interaction between the components and how different components work together.</li>
</ul>
<p>在书中的定义：</p>
<blockquote>
<p>The software architecture of a system is the set of structures needed to reason about the system, which comprise software elements, relations among them, and properties of both.<br>– Software Architecture in Practice (3rd edition), Bass, Clements, and Kazman</p>
</blockquote>
<p>架构的关注点在于系统内各个应用和模块的交互和调用。软件架构的设计，需要考虑满足什么样的需求（用户或甲方），如何解决和优化问题（不同的方向各有偏重），操作中如何做选择（在不同的方面平衡，妥协）。</p>
<p>Architecture and <strong>design concerns</strong> very often overlap - The selection of data structures and algorithms or the implementation details of individual components are design concerns.</p>
<p>没必要强硬区分二者，而应该综合起来看待。某些情况下，决策是自然而然的结构层面的；在某些情况下，决策更多是关于于设计层面，以及设计如何帮助实现架构。</p>
<p>软件架构的定义有如下隐含意思：<br>1, Architecture Is a Set of Software Structures<br>Three frequently occurring types of structure:<br>– <strong>Modular structure</strong>: static structure that focus on how functionality is divided up, structured, and assigned to development and implementation teams.<br>– <strong>Component and Connector structure</strong>: runtime structures that focus on how components interact (e.g. information passing, synchronisation, interference,…)<br>– <strong>Allocation structures</strong>: mapping to organizational, development, installation, execution environments.  (e.g. Components are deployed onto hardware to execute)</p>
<p>2, Architecture Is an abstraction<br>Architecture specifcally omits certain information about elements that is not useful for reasoning about the system - in particular, it omits information that has no ramifcations outside of a single element.</p>
<p>3, Every Software System Has a Software architecture</p>
<p>4, Architecture Includes behavior<br>Behavior embodies how elements interact with each other.</p>
<p>在本课程, 一个软件项目成功与否, 基于如下三点考量:<br>– The software is delivered on <strong>schedule</strong><br>– Development costs were within <strong>budget</strong><br>– The software meets the <strong>needs</strong> of users</p>
<h2 id="Contexts-for-Software-Architecture"><a href="#Contexts-for-Software-Architecture" class="headerlink" title="Contexts for Software Architecture"></a>Contexts for Software Architecture</h2><ul>
<li>Technical: where architecture supports technical activity like measurement, V&amp;V, compliance,…<ul>
<li>Controlling <strong>Quality Attributes</strong><ul>
<li><strong>Availability</strong> - ensuring there is a system to take over if a system fails.</li>
<li><strong>Safety</strong> - ensuring that the system only behaves as intended and has no additonal behaviour.</li>
<li><strong>Testability</strong> - ensuring:<ul>
<li>elements are clearly able to be isolated</li>
<li>we know what behaviour to expect of components of the system</li>
<li>we know how components relate to modules so we can track down faulty code</li>
<li>We know how components are intended to integrate to give the overall behaviour</li>
</ul>
</li>
<li>Other qa: <strong>performance</strong>, usability, interoperability,..</li>
</ul>
</li>
<li><strong>Design</strong> - Patterns, Styles, Domain Specific Architecture (DSSA)<ul>
<li>A DSSA is collection of (pre-decided) design decisions that:<ul>
<li>Capture important aspects of particular tasks (domain),</li>
<li>Common across a range of systems in the domain</li>
<li>Typically they will have some predefined structures</li>
<li>These are not general purpose because they incorporate many specific characteristics of the domain.</li>
</ul>
</li>
<li>Architectural pattern is a set of architectural design decisions that are applicable to a recurring design problem, and parameterized to account for different software development contexts in which that problem appears.<ul>
<li>Similar to DSSAs but capture less of the behaviour and attributes of the system</li>
<li>More general because they are intended to abstract a common pattern over several domains.</li>
<li>Three-Tiered Pattern: State(database)-Logic(Business)-Display(UI)</li>
<li>Model-View-Controller (MVC): to separate between information, presentation and user interaction.</li>
<li>Sense-Compute-Control: Structuring embedded control applications</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>Project lifecycle</strong>: where architecture interacts with and supports development process<ul>
<li>Lifecycle Models: <strong>V-model</strong>, iterative models (Boehm’s spiral model), <strong>Agile</strong></li>
</ul>
</li>
<li>Business: where architecture supports organisations, e.g. customer organisations and development organisations.</li>
<li>Professional: where the role of architect defines requirements and constraints on architects.</li>
</ul>
<h2 id="Quality-Attributes-QA"><a href="#Quality-Attributes-QA" class="headerlink" title="Quality Attributes (QA)"></a>Quality Attributes (QA)</h2><p>Architecture is the right level of abstraction to resolve conflicts between Stakeholders.<img src="/images/Architecture_Influence_Cycle.png" title="Architecture Influence Cycle. image from: Software Architecture in Practice (3rd edition), Bass, Clements, and Kazman"></p>
<p>Quality Attributes specify, usually quantitative, requirements on particular bits of functionality or on the whole systems (e.g. that the system should be available 99% of the time).</p>
<p>Problems With QA<br>1, Often QA requirements are not “testable”, for example modifiable, usable, dependable or resilient.<br>2, It can be difficult to map from a concern about the system to a QA. For example, a high failure rate in some transaction could be a performance issue or it could be an availability issue.<br>3, Communities around a particular quality attribute have developed their own terminology (e.g. security has attacks, performance has events, etc).</p>
<p>The solution for 1 and 2 is to use <strong>quality attribute scenarios</strong> to provide sufficient specificity to avoid some of these issues.</p>
<h3 id="Quality-Attributes-Scenarios-场景"><a href="#Quality-Attributes-Scenarios-场景" class="headerlink" title="Quality Attributes Scenarios 场景"></a>Quality Attributes Scenarios 场景</h3><p>A quality attribute requirement should be unambiguous and testable. To specify quality attribute requirements, we capture them formally as six-part scenarios:</p>
<ol>
<li><strong>Source of stimulus</strong>. This is some entity (a human, a computer system, or a system administrator) that generated the stimulus.</li>
<li><strong>Stimulus</strong>. A condition (event) that requires a response when it arrives at a system. e.g. a user operation to the usability community, or an attack to the security community.</li>
<li>Environment. The stimulus occurs under certain conditions. The system may be in an overload condition or in normal operation. For many systems, “normal” operation can refer to one of a number of modes. For these kinds of systems, the environment should specify in which mode the system is executing.</li>
<li>Artifact. A collection of systems, the whole system, or part of the system that is stimulated e.g. the configuration checker in the system.</li>
<li><strong>Response</strong>. The response is the activity undertaken as the result of the arrival of the stimulus. e.g. the configuration issue is identified and then repaired.</li>
<li><strong>Response measure</strong>. how to measure the response so the scenario is testable. e.g. time to detect the wrong configuration and the time to repair.</li>
</ol>
<p><img src="/images/quality_attribute_scenario.png" title="The parts of a quality attribute scenario. image from: Software Architecture in Practice (3rd edition), Bass, Clements, and Kazman"></p>
<p>Each QA has a <strong>General Scenario</strong> associated with it that tries to capture the possible components involved in that particular QA. This acts as a template or guide for the architect specifying a specific QA Scenario.</p>
<p><strong>Specific QA Scenarios</strong> take account of specific stimuli and measures on response, they capture the specification of the QA for a particular system.</p>
<h3 id="Achieving-QA-through-tactics"><a href="#Achieving-QA-through-tactics" class="headerlink" title="Achieving QA through tactics"></a>Achieving QA through tactics</h3><p>Architectural tactics are design decisions to achieve the required quality attributes, more specifcally, to control responses to stimuli.</p>
<p>The focus of a tactic is on a single quality attribute response. Within a tactic, there is no consideration of tradeoffs (differ from architectural patterns, where tradeoffs are built into the pattern).</p>
<p>By cataloging tactics, we provide a way of making design more systematic within some limitations.</p>
<p>An architecture can be viewed as the result of applying a collection of design decisions. A systematic categorization of these decisions:</p>
<ol>
<li>Allocation of responsibilities 责任分配: Identifying the important responsibilities, and determining how these responsibilities are allocated to static and runtime elements (namely, modules, components, and connectors).</li>
<li>Coordination model 模型协调 - Components in the architecture interact with one another via a collection of mechanisms.<ul>
<li>What elements in the system need to coordinate with one another.</li>
<li>What properties the coordination needs to have (e.g. timing properties, security of coordination, …)</li>
<li>Choosing the mechanisms (ideally a small number) that realize properties like statefulness, synchrony, delivery guarantees, performance.</li>
</ul>
</li>
<li>Data model: Every system must represent artifacts of system-wide interest—data—in some internal fashion<ul>
<li>Choosing abstractions, operations, and properties. How data is created and destroyed, access methods, …</li>
<li>Maintaining metadata that controls the interpretation of the data.</li>
<li>Organising the data, what kind of system will be used to store it, how will it be backed up, how do we recover from data loss</li>
</ul>
</li>
<li>Management of resources: hard (CPU, memory, battery, I/O ports…) or soft resources(system locks, software buffers, thread pools…):<ul>
<li>Identifying resources to be managed</li>
<li>What system element should manage a resource</li>
<li>资源共享策略和争端仲裁 Work out sharing strategies and how to arbitrate in contention situations</li>
<li>Consider the consequences of resource starvation(e.g. Memory).</li>
</ul>
</li>
<li>Mapping among architectural elements<ul>
<li>two important types of mapping:<ul>
<li>Mapping between different types of elements in the architecture, e.g. from static development structures (modules) to execution elements e.g. threads or processes.</li>
<li>Mappings between software elements and environment elements, e.g. from processes to specific processors and other hardware.</li>
</ul>
</li>
<li>Useful mappings include: code to runtime structure; runtime elements to environment; data model elements to data stores.</li>
</ul>
</li>
<li>Binding time decisions: introduce allowable ranges of variation.<ul>
<li>This variation can range from design time by a designer to runtime by an end user might allocate a responsibility.</li>
<li>The decisions in the other six categories have an associated binding time decision: we might want some variability in the resources to be managed determined at run time or we might make the coordination model negotiable at runtime if we want to inter-operate with a range of systems.</li>
</ul>
</li>
<li>Choice of technology: critical to being able to realize all the other decisions in a concrete system.<ul>
<li>What technologies are available</li>
<li>What tools are available to support technologies</li>
<li>How much training will it take to be able to use a technology?</li>
<li>What are the full range of consequences of the choice of a technology (e.g. it may restrict markets because it is incompatible with some other technologies).</li>
<li>If the technology is new, how does it fit into the existing preferred technologies for the organisation.</li>
</ul>
</li>
</ol>
<h2 id="Availability"><a href="#Availability" class="headerlink" title="Availability"></a>Availability</h2><blockquote>
<p>Availability refers to a property of software that it is there and ready to carry out its task when you need it to be. The availability of a system is usually defined to be the probability it will be there when you ask it to work: $\frac{mtbf}{mtbf+mttr}$</p>
</blockquote>
<p>$mtbf$ – mean time between failures: MTBF of a component is the sum of the lengths of the operational periods divided by the number of observed failures: $mtbf = \frac{t}{N(t)}$, $t$ is the cumulative operating time, $N(t)$ is the observed number of failures by time $t$. 假设恒定的故障率 $\lambda$，则 $mtbf = \frac{1}{\lambda}$</p>
<p>$mttr$ – mean time to repair</p>
<p>Availability measures the quality of service in terms of running versus down time</p>
<p><strong>Reliability</strong> indicates the fraction of all attempted operations that complete successfully. The reliability of the system is: $R(t) = e^{-\lambda t}$ where the parameter $\lambda$ is called the failure rate.<br>由于MTBF主要针对可以修复的系统，因此建议针对不可修复的系统（在故障后选择更换而不是修复系统的情况）使用平均故障时间（MTTF），在数学上二者是等价的。<br>MTTF: Mean Time To (first) Failure, or Expected Life.<br>$ MTTF = E(t_f) = \int_0^\infty R(t)dt = \frac{1}{\lambda}$</p>
<p><strong>Faults, Errors, Failures</strong>: A <strong>fault</strong> is something in the system (e.g. failed component, wrong bit of code,…) that can cause the system to move into an <strong>error</strong> state when the fault is activated, an error may then eventually cause an externally observable deviation from the intended operation - <strong>failure</strong>.</p>
<p>Generic Scenario<br><img src="/images/general_scenario_for_availability.png" title="A general scenario for availability. image from: Software Architecture in Practice (3rd edition), Bass, Clements, and Kazman"></p>
<p><img src="/images/Availability_tactics.png" title="Availability tactics. image from: Software Architecture in Practice (3rd edition), Bass, Clements, and Kazman"></p>
<h3 id="Design-Checklist-for-Availability"><a href="#Design-Checklist-for-Availability" class="headerlink" title="Design Checklist for Availability"></a>Design Checklist for Availability</h3><p><strong>Allocation of Responsibilities</strong><br>■ Determine the system responsibilities that need to be highly available.<br>■ Within those responsibilities, ensure that additional responsibilities have been allocated to detect an omission, crash, incorrect timing, or incorrect response.<br>■ Additionally, ensure that there are responsibilities to do the following:<br>• Log the fault<br>• Notify appropriate entities (people or systems)<br>• Disable the source of events causing the fault<br>• Be temporarily unavailable<br>• Fix or mask the fault/failure<br>• Operate in a degraded mode</p>
<p><strong>Coordination Model</strong><br>Determine the system responsibilities that need to be highly available. With respect to those responsibilities, do the following:<br>■ Ensure that coordination mechanisms can detect an omission, crash, incorrect timing, or incorrect response. For example, whether guaranteed delivery is necessary. Will the coordination work under conditions of degraded communication?<br>■ Ensure that coordination mechanisms enable the logging of the fault, notification of appropriate entities, disabling of the source of the events causing the fault, fxing or masking the fault, or operating in a <strong>degraded mode</strong>.<br>■ Ensure that the coordination model supports the replacement of the artifacts used (processors, communications channels, persistent storage, and processes). For example, does replacement of a server allow the system to continue to operate?<br>■ Determine if the coordination will work under conditions of degraded communication, at startup/shutdown, in repair mode, or under overloaded operation. For example, how much lost information can the coordination model withstand and with what consequences?</p>
<p><strong>Data Model</strong><br>■ Determine which portions of the system need to be highly available.<br>■ Within those portions, determine which data abstractions, along with their operations or their properties, could cause a fault of omission, a crash, incorrect timing behavior, or an incorrect response.<br>■ For those data abstractions, operations, and properties, ensure that they can be disabled, be temporarily unavailable, or be fxed or masked in the event of a fault.<br>■ For example, ensure that write requests are cached if a server is temporarily unavailable and performed when the server is returned to service.</p>
<p><strong>Mapping among Architectural Elements</strong><br>■ Determine which artifacts (processors, communication channels, persistent storage, or processes) may produce a fault.<br>■ Ensure that the mapping (or remapping) of architectural elements is ﬂexible enough to permit the recovery from the fault. This may involve a consideration of the following:<br>• Which processes on failed processors need to be reassigned at runtime<br>• Which processors, data stores, or communication channels can be activated or reassigned at runtime<br>• How data on failed processors or storage can be served by replacement units<br>• How quickly the system can be reinstalled based on the units of delivery provided<br>• How to (re)assign runtime elements to processors, communication channels, and data stores<br>• When employing tactics that depend on redundancy of functionality, the mapping from modules to redundant components is important. For example, it is possible to write one module that contains code appropriate for both the active  component and backup components in a protection group.</p>
<p><strong>Resource Management</strong><br>■ Determine what critical resources are necessary to continue operating in the presence of a fault.<br>■ Ensure there are suffcient remaining resources in the event of a fault to log the fault; notify appropriate entities (people or systems); disable the source of events causing the fault; be temporarily unavailable; fx or mask the fault/failure; operate normally, in startup, shutdown, repair mode, degraded operation, and overloaded operation.<br>■ Determine the <strong>availability time</strong> for critical resources, what critical resources must be available during specifed time intervals, time intervals during which the critical resources may be in a degraded mode, and repair time for critical resources. Ensure that the critical resources are available during these time intervals.<br>■ For example, ensure that input queues are large enough to buffer anticipated messages if a server fails so that the messages are not permanently lost.</p>
<p><strong>Binding Time</strong><br>■ Determine how and when architectural elements are bound.<br>■ If late binding is used to alternate between components that can themselves be sources of faults (e.g., processes, processors, communication channels), ensure the chosen availability strategy is suffcient to cover faults introduced by all sources.<br>■ For example:<br>• If late binding is used to switch between artifacts such as processors that will receive or be the subject of faults, will the chosen fault detection and recovery mechanisms work for all possible bindings?<br>• If late binding is used to change the defnition or tolerance of what constitutes a fault (e.g., how long a process can go without responding before a fault is assumed), is the recovery strategy chosen suffcient to handle all cases? For example, if a fault is ﬂagged after 0.1 milliseconds, but the recovery mechanism takes 1.5 seconds to work, that might be an unacceptable mismatch.<br>• What are the availability characteristics of the late binding mechanism itself? Can it fail?</p>
<p><strong>Choice of Technology</strong><br>■ Determine the available technologies that can (help) detect faults, recover from faults, or reintroduce failed components.<br>■ Determine what technologies are available that help the response to a fault (e.g., event loggers).<br>■ Determine the availability characteristics of chosen technologies themselves: What faults can they recover from? What faults might they introduce into the system?</p>
<h2 id="Performance"><a href="#Performance" class="headerlink" title="Performance"></a>Performance</h2><p><img src="/images/Performance_General_Scenario.png" title="Performance General Scenario. image from: Software Architecture in Practice (3rd edition), Bass, Clements, and Kazman"><br>To ensure resource is effectively monitored and managed.</p>
<p><img src="/images/Performance_tactics.png" title="Performance tactics. image from: Software Architecture in Practice (3rd edition), Bass, Clements, and Kazman"></p>
<h3 id="Design-Checklist-for-Performance"><a href="#Design-Checklist-for-Performance" class="headerlink" title="Design Checklist for Performance"></a>Design Checklist for Performance</h3><p><strong>Allocation of Responsibilities</strong><br>■ Work out areas responsibility of that require heavy resource use to ensure time-critical events take place.<br>■ Work out processing requirements.<br>■ Take account of:<br>• Responsibilites arising from threads crossing boundaries of responsibility<br>• Responsibilities for thread management<br>• Responsibilities for scheduling shared resources</p>
<p><strong>Coordination Model</strong><br>■ What needs to coordinate.<br>■ Is there concurrency?  Ensure it is safe.<br>■ Ensure coordination is appropriate for the style of stimulus.<br>■ Ensure the properties of the coordination model are good for the stimuli and  concurrency control?</p>
<p><strong>Data Model</strong><br>■ Determine what parts of the data model will be heavily loaded or behaves tight time constraints.<br>■ For those data abstractions, determine:<br>• Would keeping multiple copies help?<br>• Would partitioning the data help?<br>• Is it possible to reduce processing requirements for the data?<br>• Does adding resource help deal with data bottlenecks?</p>
<p><strong>Mapping Among Architecture Elements</strong><br>■ Does colocation of some components reduce latencies?<br>■ Ensure components with high processing needs are allocated to big processors<br>■ Consider introducing concurrency when you map.<br>■ Consider whether some mappings introduce bottlenecks (e.g. allocating non-interfering tasks to the same thread)</p>
<p><strong>Resource Management</strong><br>■ Work out what needs high levels of resource<br>■ Ensure these are monitoredand managed under all operating modes.<br>■ For example:<br>• Time critical components<br>• Thread management<br>• Prioritization<br>• Locking and scheduling strategies<br>• Deploying additional resource to meet elevated load.</p>
<p><strong>Binding time</strong><br>■ Look at when you bind.<br>■ Consider the cost of binding at different times<br>■ Try to avoid performance penalties caused by late binding.</p>
<p><strong>Choice of Technology</strong><br>■ Is the technology right to let you meet hard deadlines and resource use (e.g. use a real-time OS with proper scheduling).<br>■ Do you know its characteristics under load and its limits?<br>■ Does your choice of technology give you the ability to set the following:<br>• Good scheduling<br>• Priorities<br>• Policies for demand reduction<br>• Allocating processing to tasks<br>• Other performance-related parameters.<br>■ Does your choice of technology introduce excessive overhead for heavily used operations?</p>
<h2 id="Security"><a href="#Security" class="headerlink" title="Security"></a>Security</h2><p>最简单的表征安全的三个特征 - confdentiality, integrity, and availability (CIA):</p>
<ol>
<li>机密性 Confidentiality: Only those who should have access are given access.</li>
<li>完整性 Integrity: Data or services are not subject to unauthorised manipulation.</li>
<li>可用性 Availability: the system is available for legitimate use.</li>
</ol>
<p>其他用于支撑 CIA 的特征:<br>4. 认证识别 Authentication verifes the identities of the parties to a transaction and checks if they are truly who they claim to be.<br>5. 不可否认性 Nonrepudiation guarantees that the sender of a message cannot later deny having sent the message, and that the recipient cannot deny having received the message.<br>6. 授权 Authorization grants a user the privileges to perform a task.</p>
<p>Security General Scenario<br><img src="/images/Security_General_Scenario.png" title="Security General Scenario. image from: Software Architecture in Practice (3rd edition), Bass, Clements, and Kazman"></p>
<p><img src="/images/Security_tactics.png" title="Security tactics. image from: Software Architecture in Practice (3rd edition), Bass, Clements, and Kazman"></p>
<h3 id="A-Design-Checklist-for-Security"><a href="#A-Design-Checklist-for-Security" class="headerlink" title="A Design Checklist for Security"></a>A Design Checklist for Security</h3><p><strong>Allocation of Responsibilities</strong><br>■ Ensure all actors have identities<br>■ Authenticate identities<br>■ Check authorizations<br>■ Ensure authorization is required for all such actors<br>■ Log attempts, successes and failures on all sensitive operations<br>■ Ensure data is encrypted<br>■ Ensure responsibilities are allocated to appropriate actors.</p>
<p><strong>Coordination Model</strong><br>■ Ensure coordination mechanisms use authentication and authorisation.<br>■ Ensure coordination mechanisms are not vulnerable to impersonation, tampering, interception, …<br>■ Ensure data involved in coordination is protected using encryption.<br>■ Monitor level of demand for communication to identify excessive demands</p>
<p><strong>Data Model</strong><br>■ Ensure there is a valid data model that disallows invalid data flows.<br>■ Ensure logging of access, modification and attempted access or modification.<br>■ Data is protected in flight and at rest using appropriate encryption.<br>■ Ensure appropriate backup/recovery mechanisms are in place.</p>
<p><strong>Mapping among Architectural Elements</strong><br>■ Explore how different mappings change the way users can access resources.<br>■ Ensure for all of these mappings the models of access and authorisation are preserved.<br>• Actors should be identified and authenticated<br>• Use appropriate authorisation mechanisms<br>• Ensure logging is enabled<br>• Ensure data is protected by encryption<br>• Recognise impact of attack on resources<br>■ Ensure recovery from attack is possible</p>
<p><strong>Resource Management</strong><br>■ Explore the overheads resulting from monitoring, detecting, preventing and recovering from attacks.<br>■ Analyse how a user can access and make demands on critical resources.<br>■ Manage resource access to ensure malicious use of resource is detected and managed.<br>■ Identify the potential for corruption/contamination and how to manage this.<br>■ Explore the potential for resource use to be used as a covert channel to transmit data.<br>■ Limit resources used to manage attempts at unauthorised use</p>
<p><strong>Binding Time</strong><br>■ Explore the consequences of varying binding times on the ability to trust an actor or component.<br>■ Put in place appropriate mechanisms to ensure trust given binding time.<br>■ Explore potential impact on resource use, capacity/throughput, response time<br>■ Ensure appropriate encryption of all data around binding.<br>■ Explore the potential of variation in binding time as a covert channel.</p>
<p><strong>Choice of Technologies</strong><br>■ Ensure limitations of technologies are understood and the potential for future compromise is well identified.<br>■ Ensure your chosen technologies support the tactics you want to deploy to protect the system.</p>
<h2 id="Connectors"><a href="#Connectors" class="headerlink" title="Connectors"></a>Connectors</h2><p>Key part of Architectures<br>■ Connect components and define the rules of interaction between components<br>• Simple: shared variable access; method calls; …<br>• Complex: database access; client-server; scheduler; load balancer<br>■ Connectors provide: Interaction ducts;</p>
<p>In coding often connectors are implicit, but in software architecture:<br>■ They are identified and have an identity<br>■ Capture system interaction (at the level of components)<br>■ They have a specification that can be complex</p>
<p>Relationship between Connectors and components:<br>■ Components have application-specific functionality.<br>■ Connectors provide interaction mechanisms that are generic across different applications.<br>■ Interaction may involve multiple components<br>■ Interaction may have a protocol associated to it. The specification of the connector protocols determine: the types of interface that it works with; properties of interaction; rules about ordering of interaction; measurable features of interaction.</p>
<p>Benefits of Explicit Connectors<br>■ Interaction is defined by the arrangement of the connectors (as far as possible)<br>■ Component interaction is defined by the pattern of connectors in the architecture<br>■ Interaction is “independent” of the components</p>
<p>The main roles(services) of Connectors are:</p>
<ul>
<li>Communication<ul>
<li>Information is transmitted between components (e.g. message passing; method call; remote procedure call,…).</li>
<li>Connectors constrain things: Direction of flow (e.g. pipes), Capacity, rates of flow, etc.</li>
<li>May have other effects e.g. coordination (e.g. blocking I/O)</li>
<li>Influences measurable Quality Attributes of the system</li>
<li>Separates communication from functional aspects (components do the functional part).</li>
</ul>
</li>
<li>Coordination: Controls the timing relationship of functional aspects of the system, e.g. coordinating the arrival of data at a collection of components</li>
<li>Conversion<ul>
<li>How to get components to interact that don’t have the right means of interaction. 如何让兼容性差的组件进行交互？</li>
<li>Incompatibilities might be related to: datatypes, ordering, frequency, structure of parameters etc.</li>
<li>Examples of types of converters: Wrappers (deal with structural issues), Adaptors (deal with datatype incompatibilities)</li>
</ul>
</li>
<li>Facilitation<ul>
<li>Enable interaction among a group of components that are intended to interact.</li>
<li>Help manage the interaction</li>
<li>Examples: load balancer; replication management; redundancy management; scheduler</li>
<li>Can also relate to coordination, e.g. synchronization (critical sections; monitors)</li>
</ul>
</li>
</ul>
<h3 id="Select-Connectors"><a href="#Select-Connectors" class="headerlink" title="Select Connectors"></a>Select Connectors</h3><p>Types of Connector: • Method/Procedure call • Data access • Events • Stream • Distributor • Arbitrator • Adaptor</p>
<p>Selection</p>
<ul>
<li>Determine a system’s interconnection and interaction needs</li>
<li>Determine roles to be fulfilled by the system’s connectors: Communication, coordination, conversion, facilitation</li>
<li>For each connector<ul>
<li>Determine its appropriate type(s)</li>
<li>Determine its dimensions of interest</li>
<li>Select appropriate values for each dimension</li>
</ul>
</li>
<li>For multi-type, i.e., composite connectors, determine the atomic connector compatibilities</li>
</ul>
<h2 id="Architectural-Patterns"><a href="#Architectural-Patterns" class="headerlink" title="Architectural Patterns"></a>Architectural Patterns</h2><blockquote>
<p>An architectural patterns is a package of design decisions that is <strong>found repeatedly in practice</strong>, has known properties that permit reuse, and describes a class of architectures.</p>
</blockquote>
<p>An architectural pattern comprises:</p>
<ul>
<li>A <strong>context</strong> that provides the frame for a problem.</li>
<li>A <strong>problem</strong> that is a generalised description of a class of problems often with QA requirements that should be met.</li>
<li>A <strong>solution</strong> that is suitably generalised in the same way as the problem. A solution:<ul>
<li>Describes the architectural structures that solve the problem, including how to balance the many forces at work.</li>
<li>The solution might be static, runtime or deployment oriented.</li>
<li>The solution for a pattern is determined and described by:<ul>
<li>A set of element types (for example, data repositories, processes, and objects)</li>
<li>A set of interaction mechanisms or connectors (for example, method calls, events, or message bus)</li>
<li>A topological layout of the components</li>
<li>A set of semantic constraints covering topology, element behavior, and interaction mechanisms</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="Module-Patterns"><a href="#Module-Patterns" class="headerlink" title="Module Patterns"></a>Module Patterns</h3><p>Static Pattern: <strong>Layered Pattern</strong></p>
<p>Overview: The layered pattern defines layers (groupings of modules that offer a cohesive set of services) and a <strong>unidirectional</strong> allowed-to-use relation among the layers. The pattern is usually shown graphically by stacking boxes representing layers on top of each other. Suitable for controlling <strong>static</strong> aspects of architecture.</p>
<p>Elements: Layer, a kind of module. The description of a layer should define what modules the layer contains and a characterization of the cohesive set of services that the layer provides.</p>
<p>Relations: <strong>Allowed to use</strong>, which is a specialization of a more generic depends-on relation. The design should define what the layer usage rules are (e.g., “a layer is allowed to use any lower layer” or “a layer is allowed to use only the layer immediately below it”) and any allowable exceptions.<br><img src="/images/layer_pattern_relations.png" title="A simple layer diagram, with a simple key answering the uses, Clear Access Rules. image from: Software Architecture in Practice (3rd edition), Bass, Clements, and Kazman"></p>
<p>Constraints:<br>■ Every piece of software is allocated to exactly one layer.<br>■ There are at least two layers (but usually there are three or more).<br>■ The allowed-to-use relations should not be circular (i.e., a lower layer cannot use a layer above).</p>
<p>Weaknesses:<br>■ The addition of layers adds up-front cost and complexity to a system.<br>■ Layers contribute a performance penalty.</p>
<h3 id="Component-and-Connector-Patterns"><a href="#Component-and-Connector-Patterns" class="headerlink" title="Component-and-Connector Patterns"></a>Component-and-Connector Patterns</h3><p><strong>Model-View-Controller Pattern</strong></p>
<p>Context: User interface software is typically the most frequently modifed portion of an interactive application. For this reason it is important to keep modifcations to the user interface software separate from the rest of the system.</p>
<p>Problem:<br>• Isolating the UI functionality from the Application functionality.<br>• Maintaining multiple views in the presence of change in the underlying data.</p>
<p>Solution:<br><img src="/images/Model_View_Controller_Pattern_Solution.png" title="Model-View-Controller Pattern Solution. image from: Software Architecture in Practice (3rd edition), Bass, Clements, and Kazman"></p>
<p><img src="/images/model_view_controller_pattern.png" title="The relationships between the components of Model-View-Controller Pattern. image from: Software Architecture in Practice (3rd edition), Bass, Clements, and Kazman"></p>
<p>Other Component-Connector Patterns<br>• Pipe and Filter Pattern<br>• Broker Pattern<br>• Client-Server Pattern<br>• Peer-to-Peer Pattern<br>• Service-Oriented Architecture Pattern<br>• Publish-Subscribe Pattern<br>• Shared Data Pattern</p>
<h3 id="Deployment-Allocation-Patterns"><a href="#Deployment-Allocation-Patterns" class="headerlink" title="Deployment/Allocation Patterns"></a>Deployment/Allocation Patterns</h3><p>Context:<br>– we are concerned with resource use<br>– We might consider flexible deployment of resource<br>– The QAs we care about are sensitive to the pattern of deployment and the use of resources.</p>
<h4 id="Allocation-Map-Reduce-Pattern"><a href="#Allocation-Map-Reduce-Pattern" class="headerlink" title="Allocation: Map-Reduce Pattern"></a>Allocation: Map-Reduce Pattern</h4><p>Context:<br>– We have large quantities of data we wish to treat as “population” data.<br>– This encourages an approach that involves significant amounts of independent processing.</p>
<p>Problem: Where for ultra-large data sets doing some individual processing to a portion of the data set and then sorting and analyzing grouped data, map-reduce provides a simple way of doing this processing.</p>
<p>Solution:<br><img src="/images/Map_Reduce_Pattern_Solution.png" title="Map-Reduce Pattern Solution. image from: Software Architecture in Practice (3rd edition), Bass, Clements, and Kazman"></p>
<p>Other Allocation Patterns<br>• Multi-tier architecture pattern<br>• Cloud architectures</p>
<h3 id="Relationships-between-Tactics-and-Patterns"><a href="#Relationships-between-Tactics-and-Patterns" class="headerlink" title="Relationships between Tactics and Patterns"></a>Relationships between Tactics and Patterns</h3><p>Architectural patterns and tactics are ways of capturing proven good design structures and making them reusable.</p>
<p>Tactics are simpler and more atomic than patterns<br>• Tactics capture one step to take for a particular Quality Attribute to change behaviour with respect to that QA.<br>• use just a single structure or computational mechanism, and they are meant to address a single architectural force.<br>• Tactics can be seen as the building blocks of patterns; Most patterns consist of (are constructed from) several different tactics.<br><img src="/images/Architecture_Patterns_and_Corresponding_Tactics.png" title="Architecture Patterns and Corresponding Tactics ([Bachmann 07]). image from: Software Architecture in Practice (3rd edition), Bass, Clements, and Kazman"></p>
<h2 id="Testability"><a href="#Testability" class="headerlink" title="Testability"></a>Testability</h2><p>Testability illustrate QAs from a <strong>static</strong> perspective.</p>
<p>A system or element of a system is testable if it is possible to test it in the way required by a particular development or maintenance process.</p>
<p>Testability Concerns<br>• Unlike the other QA (availability, performance and security), testability is concerned with the code structure rather than the connector/component view or deployment view.<br>• The system elements we consider are code modules and the relationships are dependencies involved in building the code for components.</p>
<p>Testability General Scenario<br><img src="/images/Testability_General_Scenario.png" title="Testability General Scenario. image from: Software Architecture in Practice (3rd edition), Bass, Clements, and Kazman"></p>
<p>举例 Coverage Concrete Scenario<br>• Source: Regression Tester<br>• Stimulus: Completion of maintenance development to repair a critical bug<br>• Artifact: Modules for the full system<br>• Environment: Maintenance Development<br>• Response: Results from path coverage tool<br>• Response Measure: Path coverage is better than 95% of non-looping paths inside modules</p>
<p>Testability <strong>Tactics</strong></p>
<ul>
<li>adding controllability and observability to the system.<ul>
<li>Specialized Interfaces</li>
<li>Record/Playback</li>
<li>Localize State Storage</li>
<li>Abstract Data Sources</li>
<li>Sandbox</li>
<li>Executable Assertions</li>
</ul>
</li>
<li>limiting complexity in the system’s designs: If it could be broken into smaller modules with lower complexity that could allow the regression test to achieve higher path coverage.<ul>
<li>Limit Structural Complexity</li>
<li>Limit behavioral complexity - Nondeterminism</li>
</ul>
</li>
</ul>
<h3 id="A-Design-Checklist-for-Testability"><a href="#A-Design-Checklist-for-Testability" class="headerlink" title="A Design Checklist for Testability"></a>A Design Checklist for Testability</h3><p><strong>Allocation of Responsibilities</strong><br>■ Determine which system responsibilities are most critical and hence need to be most thoroughly tested.<br>■ Ensure that additional system responsibilities have been allocated to do the following:<br> Execute test suite and capture results (external test or self-test)<br>• Capture (log) the activity that resulted in a fault or that resulted in unexpected (perhaps emergent) behavior that was not necessarily a fault<br>• Control and observe relevant system state for testing Make sure the allocation of functionality provides high cohesion, low coupling, strong separation of concerns, and low structural complexity.</p>
<p><strong>Coordination Model</strong><br>Ensure the system’s coordination and communication mechanisms<br>■ Support the execution of a test suite and capture the results within a system or between systems<br>■ Support capturing activity that resulted in a fault within a system or between systems<br>■ Support injection and monitoring of state into the communication channels for use in testing, within a system or between systems<br>■ Do not introduce needless nondeterminism</p>
<p><strong>Data Model</strong><br>Determine the major data abstractions that must be tested to ensure the correct operation of the system.<br>■ Ensure that it is possible to capture the values of instances of these data abstractions<br>■ Ensure that the values of instances of these data abstractions can be set when state is injected into the system, so that system state leading to a fault may be re-created<br>■ Ensure that the creation, initialization, persistence, manipulation, translation, and destruction of instances of these data abstractions can be exercised and captured</p>
<p><strong>Mapping among Architectural Elements</strong><br>■ Determine how to test the possible mappings of architectural elements (especially mappings of processes to processors, threads to processes, and modules to components) so that the desired test response is achieved and potential race conditions identifed.<br>■ In addition, determine whether it is possible to test for illegal mappings of architectural elements.</p>
<p><strong>Resource Management</strong><br>■ Ensure there are suffcient resources available to execute a test suite and capture the results.<br>■ Ensure that your test environment is representative of (or better yet, identical to) the environment in which the system will run.<br>■ Ensure that the system provides the means to do the following:<br>• Test resource limits<br>• Capture detailed resource usage for analysis in the event of a failure<br>• Inject new resource limits into the system for the purposes of testing<br>• Provide virtualized resources for testing</p>
<p><strong>Binding Time</strong><br>■ Ensure that components that are bound later than compile time can be tested in the late-bound context.<br>■ Ensure that late bindings can be captured in the event of a failure, so that you can re-create the system’s state leading to the failure.<br>■ Ensure that the full range of binding possibilities can be tested</p>
<p><strong>Choice of Technology</strong><br>■ Determine what technologies are available to help achieve the testability scenarios that apply to your architecture. Are technologies available to help with regression testing, fault injection, recording and playback, and so on?<br>■ Determine how testable the technologies are that you have chosen (or are considering choosing in the future) and ensure that your chosen technologies support the level of testing appropriate for your system. For example, if your chosen technologies do not make it possible to inject state, it may be diffcult to re-create fault scenarios.</p>
<h2 id="Modifiability"><a href="#Modifiability" class="headerlink" title="Modifiability"></a>Modifiability</h2><p>Modifiability illustrate QAs from a <strong>static</strong> perspective. Measure how easy it might be to modify. This is a key area because change incurs cost.</p>
<p>Four key questions:<br>– What can change?<br>– How likely is something to change?<br>– When, where, how and by whom will changes be made?<br>– What is the cost of making the change?</p>
<p>General Scenario<br><img src="/images/Modifiability_General_Scenario.png" title="Modifiability General Scenario. image from: Software Architecture in Practice (3rd edition), Bass, Clements, and Kazman"></p>
<p>Tactics to control modifiability<br><img src="/images/Modifiability_tactics.png" title="Modifiability tactics. image from: Software Architecture in Practice (3rd edition), Bass, Clements, and Kazman"></p>
<h3 id="GPES-Example"><a href="#GPES-Example" class="headerlink" title="GPES Example"></a>GPES Example</h3><p>Version 1: General purpose query facility in each GP system.<br>Version 2: Building a specific piece of business logic for each different query.<br>Think about:<br>– What changes can happen?<br>– How likely is a change?<br>– When, where, how and by whom?<br>– How mush will it cost?</p>
<p><strong>GPES-relevant Scenario</strong><br>• Source: One of the stakeholders e.g. Medicines and Healthcare Products Regulatory Agency<br>• Stimulus: Wants prescribing data on NSAIDs<br>• Artifacts: Code (but depending on the architecture this could be configuration data)<br>• Environment: Operation<br>• Response: Develop the code<br>• Response Measure: Data available 5 weeks after request</p>
<p><strong>GPES Version 1</strong><br>• Design and validate the query with the Medicines agency.<br>• Code the query.<br>• Test on some systems to ensure it does not have bad effects.<br>• Rollout to all systems.<br>• Make the query available to Medicines agency.</p>
<p><strong>GPES Version 2</strong><br>• Design and validate the query with Medicines agency.<br>• Negotiate with the GP system providers on the design of the business logic (different in all systems?)<br>• Are the providers the only vendor of such services? Should it go to a procurement?<br>• Validate the queries on each system<br>• Integrate the results<br>• Roll out to all systems<br>• Make the query available to the Medicines Agency</p>
<p>It seems likely that the GPES V2 architecture will not pass the modifiability scenario we describe. Are any of the modifiability tactics appropriate to change the architecture to enable it to pass the scenario?<br>■ Reduce Coupling is the category of tactics we need to consider.<br>■ Each of the following offer potential routes with slightly different emphases:<br>• Use an intermediary<br>• Restrict dependencies<br>• Refactor<br>• Abstract common services<br>■ Defer Binding: can we do this later in the process so it is more likely to be done by a computer than a human? Here this is unlikely.<br>■ More on Binding Time<br>• Compile time/Build Time: component replacement, compile time parameters,…<br>• Deployment time: configuration scripts that bind at deployment, …<br>• Initialization time: resource files<br>• Runtime: dynamic lookup, service lookup, name servers, plugins, publish-subscribe, shared repositories, (Maybe just in time compilation fits here too)</p>
<h3 id="Design-checklist-for-Modifiability"><a href="#Design-checklist-for-Modifiability" class="headerlink" title="Design checklist for Modifiability"></a>Design checklist for Modifiability</h3><p><strong>Allocation of responsibilities</strong><br>Work out how things are likely to change e.g. technical, legal, organisational, social, markets, customers..<br>■ Work out what responsibilities change.<br>■ Try to modularise so a change does not affect responsibilities that span many modules.</p>
<p><strong>Coordination model</strong><br>Look at how changes are likely to affect coordination and try to ensure that the most likely changes impact coordination across a small number of modules</p>
<p><strong>Data model</strong><br>Similar to coordination model – see how a change impacts on data models and try to esnure data model changes span as few modules as possible.</p>
<p><strong>Mapping among architectural elements</strong><br>■ Looking at potential changes to the system, assess whether some may best be responded to by changing the mapping to elements.<br>■ Explore issues such as dependencies between elements, data holdings in elements, assignment of elements to processes, threads or processors.</p>
<p><strong>Resource Management</strong><br>■ Determine how a change in responsibility or quality attribute will change resource.<br>■ Attempt to localise resourcing change resulting from a likely change to a small number of modules.<br>■ Look at ways of using policies or configuration to manage resource change more effectively</p>
<p><strong>Binding Time</strong><br>■ Control choice of binding times so there are not too many combinations to consider.<br>■ Consider attempting to defer binding to later, balance this against the cost of providing a later binding mechanism.</p>
<p><strong>Choice of Technology</strong><br>Choose technologies that make the most likely changes easier (e.g. choose a technology that allows runtime alteration of critical parameters rather than one where parameters are chosen at compile time) but balance this agains the cost of the different technologies.</p>
<h2 id="Architectural-Modelling"><a href="#Architectural-Modelling" class="headerlink" title="Architectural Modelling"></a>Architectural Modelling</h2><p>Software Architecture is intended to give us control over Quality Attributes. Ideally we’d like to be able to use Software Architecture to predict Quality Attributes. We should be able to build a predictive model of the Software Architecture and use the model to predict QAs. The current situation is patchy…</p>
<p>Some quality attributes, most notably performance and availability, have well-understood, time-tested <strong>analytic models</strong> that can be used to assist in an analysis. Analytic model means one that supports quantitative analysis.</p>
<p><strong>Types of Analysis</strong><br>• Thought experiment: just a sort of discussion using informed people.<br>• Back of the envelope: using very approximate techniques with unreliable assumptions.<br>• Checklist: collated experience.<br>• Analytic Model: based on sound abstractions – heavily dependent on estimates being correct<br>• Simulation: higher level of detail – less analytic, more concrete.<br>• Prototype: approximate system in an experimental setup.<br>• Experiment: fielded system, simulated load<br>• Instrumentation: measuring the variable of interest</p>
<p><img src="/images/Summary_of_the_Analytic_Model_Space.png" title="A Summary of the Analytic Model Space. image from: Software Architecture in Practice (3rd edition), Bass, Clements, and Kazman"></p>
<h3 id="Analyzing-Performance"><a href="#Analyzing-Performance" class="headerlink" title="Analyzing Performance"></a>Analyzing Performance</h3><p>Models have parameters, which are values you can set to predict values about the entity being modeled. Model can be used to understand the <strong>latency characteristics</strong> of an architectural design.<br><img src="/images/queuing_model_of_performance.png" title="A queuing model of performance. image from: Software Architecture in Practice (3rd edition), Bass, Clements, and Kazman"><br>Data Needed for the <strong>Queuing Model</strong><br>■ We need the following information in order to model effectively:<br>• The distribution for the arrival of service requests<br>• The queuing discipline<br>• The scheduling algorithm<br>• The distribution of service times for service requests<br>• Network characteristics<br>■ The theory places restrictions on the distributions<br>• Arrivals are usually expected to be Poisson Distributions specified by arrival rate<br>• Service times are usually exponentially distributed on the service rate.<br>• Some queuing behaviors are excluded such as reneging or jockying</p>
<p><strong>Example: MVC</strong>, says nothing about its deployment. That is, there is no specifcation of how the model, the view, and the controller are assigned to processes and processors; that’s not part of the pattern’s concern. These and other design decisions have to be made to transform a pattern into an architecture. Until that happens, one cannot say anything with authority about how an MVC-based implementation will perform.<br><img src="/images/Queueing_Model_of_MVC.png" title="A queuing model of performance for MVC. image from: Software Architecture in Practice (3rd edition), Bass, Clements, and Kazman"><br><strong>Data for MVC</strong><br>• Rate of service requests: the View component will service them at some rate.<br>• Service requests to the Controller are generated by the View component.<br>• Service requests from the Controller to the View component<br>• Service requests from the Controller to the model<br>• Service requests from the Model to the View Component</p>
<p><strong>Modelling MVC</strong><br>We need estimates of:<br>■ Distribution of external service demands<br>■ Queuing Disciplines within the queues in front of each component.<br>■ Network latencies<br>■ Transfer characteristics:<br>• View – Controller<br>• Controller – View<br>• Controller – Model<br>• Model – View<br>■ Scaling to large numbers of components is an issue</p>
<h3 id="Analyzing-Availability"><a href="#Analyzing-Availability" class="headerlink" title="Analyzing Availability"></a>Analyzing Availability</h3><p>One key issue is how long it takes to detect that a failure has taken place. Example is a <strong>Broker system</strong>.<br><img src="/images/Redundancy_tactics_to_a_broker_pattern.png" title="Redundancy tactics, as applied to a broker pattern. image from: Software Architecture in Practice (3rd edition), Bass, Clements, and Kazman"><br><strong>Hot Spare 热备用 (Active Redundancy)</strong><br>• Active and redundant both receive identical request stream.<br>• Synchronous maintenance of broker state.<br>• Fast failover in the event of failure of the active system.</p>
<p><strong>Warm Spare (Passive Redundancy)</strong><br>• Warm broker is maintained at the most recent checkpoint state.<br>• In the event of failure the system rolls back to the most recent checkpoint.<br>• This is slower than the hot spare approach</p>
<p><strong>Cold Spare</strong><br>• No attempt to synchronise.<br>• In the event of failure the cold spare is started.<br>• The system state is recovered via interaction with other systems (so they have to be resilient to failure in the broker)</p>
<h3 id="Analysis-at-Different-Stages-of-the-Life-Cycle"><a href="#Analysis-at-Different-Stages-of-the-Life-Cycle" class="headerlink" title="Analysis at Different Stages of the Life Cycle"></a>Analysis at Different Stages of the Life Cycle</h3><p><img src="/images/Analysis_at_Different_Stages_of_the_Life_Cycle.png" title="Forms of Analysis, Their Life-Cycle Stage, Cost, and Confdence in Their Outputs. image from: Software Architecture in Practice (3rd edition), Bass, Clements, and Kazman"></p>
<h2 id="Architecture-in-the-Life-Cycles"><a href="#Architecture-in-the-Life-Cycles" class="headerlink" title="Architecture in the Life Cycles"></a>Architecture in the Life Cycles</h2><p>前面部分关注软件架构的 technical context。这里开始关注 life cycles。<br>The role of software architecture is different for different lifecycles.</p>
<p><strong>Balancing Agility and Discipline</strong><br>• Lifecycles generally impose some discipline on the development process.<br>• Software Architectures often feature in Lifecycles as a stage or support for analysis or design<br>• Lifecycles exist because they codify useful patterns of activity and save us time and effort<br>• Agility focusses on getting adequate solutions to stakeholders <strong>with less time and effort</strong><br>• We need to balance the discipline of lifecycles against the delivery focus of agility</p>
<p><strong>Lifecycles</strong><br>• Lifecycles underpin development processes by ordering stages and activities.<br>• Any good organisation is always looking to improve its processes so there is usually an <strong>ongoing process improvement cycle</strong> focussed on making the process better.</p>
<p>V-Model approach works well when you understand the concept and requirements.<br><img src="/images/v_model_in_lifecycle.png" title="V-Model. image from: https://davenicolette.files.wordpress.com/2012/02"></p>
<p><strong>Agile Practice</strong><br>• Test-first programming<br>• Refactoring<br>• Continuous integration<br>• Simple Design<br>• Pair Programming<br>• Common Codebase<br>• Coding Standards<br>• Open Work Area</p>
<h3 id="Agile-vs-Plan-Driven"><a href="#Agile-vs-Plan-Driven" class="headerlink" title="Agile vs. Plan Driven"></a>Agile vs. Plan Driven</h3><blockquote>
<p>Early software development methods that emerged in the 1970s - such as the Waterfall method - is plan-driven and inﬂexible. But having a strong 先期 up-front plan provides for considerable predictability (as long as the requirements don’t change too much) and makes it easier to coordinate large numbers of teams.</p>
</blockquote>
<blockquote>
<p>Agile methods and practitioners, on the other hand, often 轻视 scorn planning, preferring teamwork, frequent face-to-face communication, ﬂexibility, and adaptation. This enhances invention and creativity.</p>
</blockquote>
<p><img src="/images/agile_vs_plan_application.png" title="image from:  http://www.inf.ed.ac.uk/teaching/courses/sapm/"><br><img src="/images/agile_vs_plan_management.png" title="image from:  http://www.inf.ed.ac.uk/teaching/courses/sapm/"><br><img src="/images/agile_vs_plan_tech.png" title="image from:  http://www.inf.ed.ac.uk/teaching/courses/sapm/"><br><img src="/images/agile_vs_plan_personnel.png" title="image from:  http://www.inf.ed.ac.uk/teaching/courses/sapm/"></p>
<p>• Work <strong>top-down</strong> and <strong>bottom-up</strong> simultaneously - balance will depend on the size and complexity of the project.<br>• <strong>Top-down</strong> does architectural work based on things like <strong>patterns, product-line</strong>.<br>• <strong>Bottom-up</strong> develops implementation and environment-specific constraints and solutions.<br>• Focus on QAs, scenarios, tactics and processes to 调和 reconcile competing aspects provides a bottomup/top-down link<br>• Balancing commitment and flexibility</p>
<h3 id="Analysis-Techniques"><a href="#Analysis-Techniques" class="headerlink" title="Analysis Techniques"></a>Analysis Techniques</h3><p><img src="/images/Analysis_Techniques.png" title="image from:  http://www.inf.ed.ac.uk/teaching/courses/sapm/"><br><img src="/images/Analysis_Techniques_and_Stage.png" title="image from:  http://www.inf.ed.ac.uk/teaching/courses/sapm/"></p>
<h2 id="Product-Line-Architecture"><a href="#Product-Line-Architecture" class="headerlink" title="Product Line Architecture"></a>Product Line Architecture</h2><p>One of the early success areas for Software Architecture was the development of Product Line Architectures. Product Line Architecture is an approach to adopt systematic <strong>reuse of architectural elements</strong> that involves changes in development process supported by specific practices that encourage reuse.</p>
<blockquote>
<p>A collection of software-intensive systems sharing a common, managed, set of features that satisfy the specific needs of a market segment or mission that are developed from a set of core assets in a prescribed way.</p>
</blockquote>
<p>Software Product Lines are directed by business goals in a particular application domain.<br>• The products in a product line share a software product line architecture<br>• Products are structured by the product line architecture and are built from services and components.<br>• Architercture and components are the core assets used to satisfy the business goals.<br>• Product line leverage commonality and limit variability of the product.</p>
<p><strong>Benefits to the organisation</strong><br>• Large-scale productivity gains<br>• Improve time to market<br>• Maintian market presence (rapidly evolving variants)<br>• Sustain growth<br>• Improved market agility<br>• Better use of skills<br>• Enable mass customisation<br>• Gain control of configuration<br>• Improve product quality<br>• Better predictability of cost, schedule and quality</p>
<p><strong>Costs of a product line</strong><br>• Architecture: flexible enough to support variation in the products<br>• Software components: general enough to support variability<br>• Test plans, cases, data: take account of variation in components<br>• Business cases: must operate at the level of a product family<br>• Project plans: generic and extensible to deal with variation<br>• Tools and processes: must support architecture, variation, configuration, ..<br>• People, skills, training: need to be skilled in architecture and product lines.<br><img src="/images/Product_Line_Economics.png" title="image from: Software Product-Line Engineering: A Family-Based Software Development Process. Weiss,D.M. &amp; Lay, C.T.R. 1999"><br>Product lines spread costs over several products:• Requirements and requirements analysis • Domain model • Architecture and design • Performance engineering • Documentation • Test cases, data, and plans • Skills • Processes, methods and tools • Defect fixing • Components and services</p>
<p><strong>Core Process Activities</strong><br>• Core asset development: improving the base components in terms of qualities, products they support, and architecture.<br>• Product development: identifying and building products to meet market need inside the product line.<br>• Management: monitoring and improving the processes, tools and practices.</p>
<p><strong>Introducing Product Lines</strong><br>• Proactive: <strong>Up-front</strong> investment to develop the core assets - need to know the market well (maybe have an already established set of products)<br>• Reactive: Start with one or two products and use them to generate core assets.<br>• Incremental: Develop core assets as the business need evolves.</p>
<h3 id="Example-Bosch-Gasoline-Systems"><a href="#Example-Bosch-Gasoline-Systems" class="headerlink" title="Example: Bosch Gasoline Systems"></a>Example: Bosch Gasoline Systems</h3><p>Goals<br>■ Competitiveness:<br>• Reduced hardware resource consumption<br>• Reduced time to market for new features<br>■ Development efficiency<br>• Reuse: Applications can be used across different generations of system; “core” software is highly configurable and is reused via reconfiguration; “Vehicle functions” can be used across gasoline and diesel engines<br>• Easy configuration of software products<br>• Increased planning accuracy<br>■ Quality<br>• Interface integrity<br>• Reuse of core assets<br>■ Customer needs<br>• Differentiation by individual software solutions<br>• Clear feature-cost mapping</p>
<p>Component Redesign<br>■ Focussed on: reuse; simplification of calibration; resource consumption; stabilisation of interfaces (within the architecture)<br>■ Redesign progressed by:<br>• Analysing existing software inventory: features, sources of variability; relation to product line; document interdependency.<br>• Concept development and design of components: simplification; configurability; architecture driven structure; document relations between features and components;<br>• Baselines for variants of software components: document baselines; implement; maintain up-to-date document and implementation.</p>
<p>Phased Introduction<br>■ Investigate and customise product line engineering.<br>■ Design and pilot adequate processes and methods.<br>■ Roll out and institutionalise in the standard development process.<br><img src="/images/product_line_Roll_out.png" title="image from:  http://www.inf.ed.ac.uk/teaching/courses/sapm/"></p>
<h2 id="DevOps"><a href="#DevOps" class="headerlink" title="DevOps"></a>DevOps</h2><p>The line between development and operation becomes more blurred and the use of the live environment to test innovations becomes more common. DevOps is a set of practices that span development and operation.</p>
<p>Operations have the direct experience of use of the system<br>– monitoring that use is a way of empirically verifying quality<br>– operations have the data that is used to regulate operations and is essential information for development.</p>
<p>Development is responsible for building in the right monitoring to ensure operations can operate effectively.</p>
<blockquote>
<p>DevOps is a set of practices intended to reduce the time between committing a change to a system and the change being placed into normal operation while ensuring necessary quality.</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="http://open-services.net/">Open Services for Lifecycle Collaboration (OSLC)</a>: OSLC is an open and scalable approach to lifecycle integration. It simplifies key integration scenarios across heterogeneous tools.</p>
<p>Traditionally we use test as the way of delivering quality change but we can “shepherd” committed change into use by controlling quantities of change, users experiencing change, results of monitoring than this may offer a better way. Delivery mechanism needs to be high quality: reliable, repeatable, available.</p>
<p>Critical points<br>• Making the decision to commit the code to be introduced into the system.<br>• Transitioning from being under consideration into part of the production deployment that will be used by all users.<br>• Issues is how to have enough confidence to make each of these transitions. Monitoring is critical.<br>• The question is how to ensure the transitions are as reliable as possible.</p>
<p>The extent of the lifecycle<br>• Involves all people involved in the delivery of the service/application<br>• Operations and development people are in continuous interaction.<br>• We need architecture to achieve this.<br>• Microservices architectural pattern is often used.</p>
<h3 id="Microservices"><a href="#Microservices" class="headerlink" title="Microservices"></a>Microservices</h3><blockquote>
<p>The term “Microservice Architecture” has sprung up over the last few years to describe a particular way of designing software applications as <strong>suites of independently deployable services</strong>.</p>
</blockquote>
<blockquote>
<p>The microservice architectural style is an approach to developing a single application as a suite of small services, each running in its own process and communicating with lightweight mechanisms, often an HTTP resource API.<br>— <a target="_blank" rel="noopener" href="https://martinfowler.com/articles/microservices.html">https://martinfowler.com/articles/microservices.html</a></p>
</blockquote>
<p><img src="https://martinfowler.com/articles/microservices/images/sketch.png" title="Monoliths and Microservices. Image from: https://martinfowler.com/articles/microservices/images/sketch.png"><br>Attributes of Microservice Architecture<br>• Separately deployed units<br>• Very small service components<br>• Single purpose function or an independent portion of functionality<br>• Distributed<br>• Loosely coupled<br>• Multiple versions are acceptable<br>• Asynchronous<br>• No Orchestration</p>
<h2 id="Architecture-Evaluation"><a href="#Architecture-Evaluation" class="headerlink" title="Architecture Evaluation"></a>Architecture Evaluation</h2><p>Evaluation by Designer<br>• The consequences of the decision making regulate how much effort to put into the process – more importance means more effort in evaluation.<br>• Try to use iterative approaches that get deeper in order to eliminate unpromising alternatives early.<br>• Don’t strive for perfection, good enough for the context is usually enough.</p>
<p>Peer Evaluation<br>• Fix on the QAs to consider as part of the review – may be determined by the process or the business case.<br>• The architect presents the architecture to the reviewers – questions are for information.<br>• The review is driven by the relevant scenarios – the architect talks the review team through a scenario demonstrating the architecture meets the requirements captured in the scenario.<br>• The outcome is a list of potential issues with actions: fix, mitigate, tolerate, …</p>
<p>External Evaluation<br>• Means to bring in additional expertise.<br>• May represent some stakeholder interests.<br>• More expensive and difficult to organise so this will often correspond to some major hurdle in the process.</p>
<h3 id="The-Architecture-Tradeoff-Analysis-Method-ATAM"><a href="#The-Architecture-Tradeoff-Analysis-Method-ATAM" class="headerlink" title="The Architecture Tradeoff Analysis Method (ATAM)"></a>The Architecture Tradeoff Analysis Method (ATAM)</h3><blockquote>
<p>ATAM is a risk-mitigation process. Its purpose is to help choose a suitable architecture for a software system by discovering trade-offs and sensitivity points, to capture project risks.<br>ATAM is most beneficial when done <strong>early</strong> in the software development life-cycle, when the cost of changing architectures is minimal.</p>
</blockquote>
<p>Designed to be usable where:<br>– Evaluators are not expert in the architecture<br>– Evaluators need not be familiar with the business goals.<br>– The system need not be fully developed<br>– There may be large numbers of stakeholders</p>
<p>Participants in ATM<br>• <strong>The evaluation team</strong>: 3-5 people with designated roles (people may have multiple roles).  Team members should be seen to be neutral with respect to the project.<br>• <strong>Project decision takers</strong>: manager of the project, funder of the project, main architect<br>• <strong>Architecture stakeholders</strong>: developers, testers, integrators, maintainers, performance engineers, …</p>
<h4 id="ATAM-evaluation-team-roles-and-responsibilities"><a href="#ATAM-evaluation-team-roles-and-responsibilities" class="headerlink" title="ATAM evaluation team roles and responsibilities"></a>ATAM evaluation team roles and responsibilities</h4><p>Team Leader<br>Sets up the evaluation; coordinates with client, making sure client’s needs are met; establishes evaluation contract; forms evaluation team; sees that final report is produced and delivered (although the writing may be delegated)</p>
<p>Evaluation Leader<br>Runs evaluation; facilitates elicitation of scenarios; administers scenario selection/prioritization process; facilitates evaluation of scenarios against architecture; facilitates onsite analysis</p>
<p>Scenario Scribe<br>Writes scenarios on flipchart or whiteboard during scenario elicitation; captures agreed-on wording of each scenario, halting discussion until exact wording is captured</p>
<p>Proceedings Scribe<br>Captures proceedings in electronic form on laptop or workstation, raw scenarios, issue(s) that motivate each scenario (often lost in the wording of the scenario itself), and resolution of each scenario when applied to architecture(s); also generates a printed list of adopted scenarios for handout to all participants</p>
<p>Timekeeper<br>Helps evaluation leader stay on schedule; helps control amount of time devoted to each scenario during the evaluation phase</p>
<p>Process Observer<br>Keeps notes on how evaluation process could be improved or deviated from; usually keeps silent but may make discreet process-based suggestions to the evaluation leader during the evaluation; after evaluation, reports on how the process went and lessons learned for future improvement; also responsible for reporting experience to architecture evaluation team at large</p>
<p>Process Enforcer<br>Helps evaluation leader remember and carry out the steps of the evaluation method</p>
<p>Questioner<br>Raise issues of architectural interest that stakeholders may not have thought of</p>
<h4 id="ATAM-Outputs"><a href="#ATAM-Outputs" class="headerlink" title="ATAM Outputs"></a>ATAM Outputs</h4><p>• Concise presentation of the architecture – needs to be presentable in around one hour.<br>• Articulation of the business goals – clearly communicated to all participants<br>• Prioritized QA requirements expressed as scenarios – testable QA requirements.<br>• Risks and non-risks – architecture decision that carries risks (or not).<br>• Risk themes – attempt to identify systemic risk by grouping risks into themes.<br>• Mapping of Architecture Decisions to QA requirements – motivating architecture decisions by QA requirements<br>• Identified sensitivity and tradeoff decisions – critical decisions that have significant impact on QA requirements.</p>
<p><img src="/images/ATAM_Phases_and_Their_Characteristics.png" title="ATAM Phases and Their Characteristics. image from:  http://www.inf.ed.ac.uk/teaching/courses/sapm/"><br>Partnership and preparation: Getting the schedule, agendas and list of stakeholders prepared, preparing necessary documents and presentations, and gettting documents to the evaluation team</p>
<h4 id="Steps-of-Evaluation-Phase"><a href="#Steps-of-Evaluation-Phase" class="headerlink" title="Steps of Evaluation Phase"></a>Steps of Evaluation Phase</h4><p>The ATAM analysis phases (phase 1 and phase 2) consist of nine steps.</p>
<p>Steps 1 through 6 are carried out in phase 1</p>
<ol>
<li>Presentation of the ATAM approach – remind participants of the approach</li>
<li>Business drivers presentation – functions; constraints; business goals; major stakeholders; architectural drivers</li>
<li>Architecture presentation:<ul>
<li>Context for the system</li>
<li>Static modular view</li>
<li>Component and connector view</li>
<li>Deployment view</li>
<li>Main QA requirements and how the architecture addresses them:<ul>
<li>What has been reused</li>
<li>Trace of key use cases</li>
<li>Trace of key change scenarios</li>
<li>Main issues/risks driving architectural change</li>
</ul>
</li>
</ul>
</li>
<li>Identify architectural approaches – create a catalogue of patterns and tactics used in the architecture.</li>
<li>Generate Quality Attribute Utility Tree<ul>
<li>this is an approach to identifying <strong>architecturally significant requirements (ASR)</strong> by looking through the QAs - identifying particular aspects of the QA that are relevant and any requirements related to that aspect of the QA.</li>
<li>Each ASR is ranked High, Medium or Low in importance.</li>
</ul>
</li>
<li>Analyze architectural approaches – look at the most important QA requirement scenarios as identified at <strong>stage 5</strong> and probe how the architecture meets the QA scenario.</li>
</ol>
<p>In phase 2, with all stakeholders present, those steps are summarized<br>7. Brainstorm prioritization of scenarios – revisit the prioritization for additional scenarios, e.g. a particular stakeholder (performance engineer) might propose a scenario on the response time of the system.<br>8. Analyze Architectural Approaches – revisit <strong>stage 6</strong> but with an expanded and reprioritized set of scenarios<br>9. Present results – the evaluation group tries to group risks into risk themes to identify systemic issues and results are presented.</p>
<p><img src="/images/Steps_of_Evaluation_Phase.png" title="Lightweight version of Evaluation ATAM Phases steps. image from:  http://www.inf.ed.ac.uk/teaching/courses/sapm/"></p>
<p>ATAM Results<br>• Documentation of architectural approaches taken by the project.<br>• Prioritized list of scenarios<br>• Utility tree<br>• Risks discovered<br>• Non-risks identified<br>• Sensitivity and Tradeoff points identified</p>
<h2 id="General-Practice-Extraction-Service-GPES"><a href="#General-Practice-Extraction-Service-GPES" class="headerlink" title="General Practice Extraction Service (GPES)"></a><a target="_blank" rel="noopener" href="https://www.nao.org.uk/report/general-practice-extraction-service-investigation/">General Practice Extraction Service (GPES)</a></h2><p>An IT system designed to allow NHS organizations to <strong>extract data from GP practice computer systems</strong> in England. This data would be used to monitor quality, plan and pay for health services and help medical research.<br>数据的请求和返回不需要实时，更多的是定期的请求，一定时间内返回数据。</p>
<blockquote>
<p>General practitioner (GP), 全科医生。在英国，每个人都需要注册一个全科医生的诊所，当人们感到身体不适后首先会去联系的自己的全科医生。全科医生只进行有限的治疗，并建议是否有必要去医院看专科医生。每个 GP 都像小公司一样运作，有自己的 GP 系统，为患者保留病患记录。在英国，各种不同的机构组织可能需要了解GP正在做什么，因此需要从所有这些GP系统中提取数据。GPES 系统允许那些已经得到授权的机构组织，通过 NHSCIC（国家卫生和社会保健信息中心）提取各种GP数据。因为不同机构需要的信息不同，NHSCIC 需要研究制定如何提取指定的数据，并运行 GPES 系统从英国的所有GP系统提取数据。GP 可以从四种不同的 GP 系统中四选一。而 GPES 的挑战在于整合来自各个不同系统的GP的数据。</p>
</blockquote>
<p>问题</p>
<ul>
<li>The project has been significantly <strong>delayed</strong> and many customers have yet to receive data.</li>
<li>Mistakes in the original 采购 procurement and contract management contributed to <strong>losses of public funds</strong>, through asset write-offs and settlements with suppliers.</li>
<li>Only one customer, NHS England has so far received data from GPES. The time needed to design a new type of extract and restrictions in the contracts severely limits HSCIC’s ability to provide data to those who request it. It is unlikely that GPES in its current form can provide the NHS-wide service planned.<br><img src="/images/GPES_customers.png"><br><img src="/images/GPES_structure.png"></li>
</ul>
<p>Data Extract Issue</p>
<ul>
<li>NHS did a technical review of GPES in early 2011, which recommended several <strong>significant changes</strong> to its design. In the original design, each GP system supplier would use <strong>a common query language</strong> as part of their extraction system. This would allow the NHSIC to design a single extract centrally using the query tool, which all GP clinical systems could understand.</li>
<li>The technical review recommended an <strong>alternative</strong> where each supplier would be <strong>free to develop their own query methods</strong>. New queries would no longer be designed in the query tool using a common language, but would instead need to be designed as logical ‘business rules’ and sent to GP system suppliers to implement.</li>
<li>The NHSIC decided to abandon both the GPSOC contract approach and the common query language, as they could not agree either with the Department and GP system suppliers. They then procured the extraction systems by negotiating direct with the GP clinical system suppliers.</li>
<li>NHSIC is using a non-competitive procurement approach, plus the changes in design, contributed to the restrictive process for designing new extracts.</li>
<li>The HSCIC, has continued to use the GPSOC framework to require data sharing between NHS systems. The new framework, effective from 2014, says that principal clinical system suppliers must provide an interface method for third-party systems to use. This would improve interoperability between systems in GP practices and the health community.</li>
<li>The HSCIC cannot do the wide range and scale of data extracts the NHS requests, because of the design of the GPES system and restrictions in supplier contracts. Customers have requested over 100 different data extracts from GPES, but the HSCIC estimate they will be able to design only 24 new extracts in 2015-16.</li>
<li>Figure shows a summary of the HSCIC’s process to develop a new extract, each of which the supplier designs and programmes from scratch. The HSCIC have limited flexibility to amend extracts once developed, for example to change a time period and the specific organisations it will extract data from.<br><img src="/images/GPES_extract_develop_process.png"></li>
<li>GPES will continue to operate in the short term, as its data is critical for determining payments to GPs. Its coverage of all practices in England cannot currently be replicated by other primary care data extraction systems.</li>
<li>However, limited capacity and the difficulty of developing new extracts deters wider use. The HSCIC has acknowledged there is unlikely to be a long-term future for all or part of the GPES. However, they intend to reuse parts for a replacement system if possible. The HSCIC estimate that they will achieve less than two more years of use from the GPES in its current form, in contrast to the five-year minimum lifetime assumed for new IT systems.</li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/UoE-st/" rel="prev" title="Software Testing">
                  <i class="fa fa-chevron-left"></i> Software Testing
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/UoE-nlu/" rel="next" title="Natural Language Understanding">
                  Natural Language Understanding <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    
  <div class="comments" id="disqus_thread">
    <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Cong Chan</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>
  <div class="addthis_inline_share_toolbox">
    <script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5b35f789bd238372" async="async"></script>
  </div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script>

  
<script src="/js/local-search.js"></script>






  


<script>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      const visitors = document.querySelector('.leancloud_visitors');
      const url = decodeURI(visitors.id);
      const title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            const counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              leancloudSelector(url).innerText = 'Counter not initialized! More info at console err msg.';
              console.error('ATTENTION! LeanCloud counter has security bug, see how to solve it here: https://github.com/theme-next/hexo-leancloud-counter-security. \n However, you can still use LeanCloud without security, by setting `security` option to `false`.');
            
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      const visitors = document.querySelectorAll('.leancloud_visitors');
      const entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            const target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    const { app_id, app_key, server_url } = {"enable":true,"app_id":"KJ3aRNAv0BvPIe1SoKj9frht-gzGzoHsz","app_key":"gm1RJIiLJ5g6f6lmDxkpWzVG","server_url":null,"security":true};
    function fetchData(api_server) {
      const Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    const api_server = app_id.slice(-9) === '-MdYXbMMI' ? `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com` : server_url;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>


  <script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'none'
      },
      options: {
        renderActions: {
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              const target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    const script = document.createElement('script');
    script.src = '//cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-mml-chtml.js';
    script.defer = true;
    document.head.appendChild(script);
  } else {
    MathJax.startup.document.state(0);
    MathJax.typesetClear();
    MathJax.texReset();
    MathJax.typeset();
  }
</script>



<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://shootingspace.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "https://congchan.github.io/UoE-sapm/";
    this.page.identifier = "UoE-sapm/";
    this.page.title = "Software Architecture, Process, and Management";
    };
  NexT.utils.loadComments('#disqus_thread', () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://shootingspace.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

</body>
</html>
